# Go基本元素

## 标识符

同一代码块中不允许出现同名的程序实体

大小写用于区分访问权限

预定义标识符:

- 所有基本数据类型的名称
- 接口类型error
- 常量true、false和iota

所有内奸函数的名称: `append`、`cap`、`close`、`complex`、`copy`、`delete`、`imag`、`len`、`make`、`new`、`panic`、`print`、`println`、`real`和`recover`

> 空标识符`_`用在变量声明或代码包导入, 若声明一个变量而不使用, 则编译器会报错, 使用空标识符`_`就可以绕过编译器检查, 不会产生任何操作

## 关键字

关键字是被编程语言保留的字符串序列, 不能把他们用作标识符, 因此也叫保留字

| 类别 |  关键字  |
| ------------ | ------------ |
|  程序声明  |  `import`和`package`  |
|  程序实体声明和定义  |  `chan`、`const`、`func`、`interface`、`map`、`struct`、`type`和`var`  |
|  程序流程控制  |  `go`、`select`、`break`、`case`、`continue`、`default`、`defer`、`else`、`fallthrough`、`for`、`goto`、`if`、`range`、`return`和`switch`  |

Go的关键字共有`25`个, 其中与并发编程有关的关键字有`go`、`chan`、`select`

特别说明一下关键字`type` ———— 类型声明, 用于声明一个自定义类型:

``` Go
type myString string
```

这里将`myString`的类型声明为`string`类型的一个别名类型, 反过来说, `string`类型是`myString`类型的潜在类型

虽然类型及其潜在类型是不同的两个类型, 但是他们的值可以相互转换, 不产生新值: `string(myString("ABC"))`

## 字面量

简单来说, 字面量的意思就是值的一种标记法

常用的字面量有以下三种:

- 用于表示基础数据类型值的各种字面量, 例如表示浮点数类型值的`3E-2`
- 用于构造各种自定义的复合数据类型的类型字面量, 例如用于表示一个名称为`People`的结构体类型:

``` Go
type People struct {
	Name	string
	Sex	int
}
```

- 用于表示符合数据类型的值的复合字面量

``` Go
People{Name: "ZhangSan", Sex: 1}
```

其中People表示这个值的类型, 紧随其后的就是由键值对表示的复合元素列表

## 操作符

也成运算符, 用于执行特定算术或逻辑操作的符号, 操作的对象称为操作数

| 符号 |  说明  |  示例  |
| ------------ | ------------ | ------------ |
|  `\|\|`  |  逻辑或操作, 既是二元操作符, 同时也属于逻辑操作符  |  `true \|\| false // 结果是true`  |
|  `&&`  |  逻辑与操作, 既是二元操作符, 同时也属于逻辑操作符  |  `true && false // 结果是false`  |
|  `==`  |  相等判断操作, 既是二元操作符, 同时也属于比较操作符  |  `"abc" == "abc" // 结果是true`  |
|  `!=`  |  不等判断操作, 既是二元操作符, 同时也属于比较操作符  |  `"abc" != "abc" // 结果是false`  |
|  `>`  |  大于判断操作, 既是二元操作符, 同时也属于比较操作符  |  `3 > 2 // 结果是true`  |
|  `>=`  |  大于或等于判断操作, 既是二元操作符, 同时也属于比较操作符  |  `3 >= 2 // 结果是true`  |
|  `+`  |  求和操作, 既是一元操作符又是二元操作符, 同时也属于算数操作符, 若作为一元操作符, 此操作不会对原值产生影响  |  `+1 // 结果是1`<br>`1 + 2 // 结果是3`  |
|  `-`  |  求差操作, 既是一元操作符又是二元操作符, 同时也属于算数操作符, 若作为一元操作符, 则表示求反操作  |  `-1 // 结果是-1(1的相反数)`<br>`1 - 2 // 结果是-1`  |
|  `\|`  |  按位或操作, 既是二元操作符, 同时也属于算数操作符  |  `3 \| 5 // 结果是7`  |
|  `^`  |  按位异或操作, 既是一元操作符又是二元操作符, 同时也属于算数操作符, 若作为一元操作符, 则表示按位补码操作  |  `3 ^ 5 // 结果是6`<br>`^6 结果是-7`  |
|  `*`  |  求乘积操作, 既是一元操作符又是二元操作符, 同时也属于算数操作符和地址操作符, 若作为地址操作符, 则表示取值操作  |  `*p // 若p为指向整数类型值为3的指针, 则结果为3`<br>`3 * 5 // 结果是15`  |
|  `/`  |  求商操作, 既是二元操作符, 同时也属于算数操作符  |  `9 / 3 // 结果是3`  |
|  `%`  |  求余数操作, 既是二元操作符, 同时也属于算数操作符  |  `6 % 5 // 结果是1`  |
|  `<<`  |  按位左移操作, 既是二元操作符, 同时也属于算数操作符  |  `4 << 2 // 结果是16`  |
|  `>>`  |  按位右移操作, 既是二元操作符, 同时也属于算数操作符  |  `4 >> 2 // 结果是1`  |
|  `&`  |  按位与操作, 既是一元操作符又是二元操作符, 同时也属于算数操作符和地址操作符, 若作为地址操作符, 则表示取址操作  |  `&V // 结果为标识符V值在内存中的地址`<br>`5 | 6 // 结果是4`  |
|  `&^`  |  按位清除操作, 既是二元操作符, 同时也属于算数操作符  |  `5 &^ 11 // 结果是4`  |
|  `!`  |  逻辑非操作, 既是一元操作符, 同时也属于逻辑操作符  |  `!false // 结果是true`  |
|  `<-`  |  接收操作, 既是一元操作符, 同时也属于接收操作符  |  `<- ch // 若ch表示元素类型为type的通道类型值, 则此表达式就表示从ch中接收一个byte类型值的操作`  |

Go的操作符一共有`21`个, 并分为`5`类: `算数操作符`、 `比较操作符`、 `逻辑操作符`、 `地址操作符`、 `接收操作符`

当一个表达式中存在多个操作符时, 将涉及到操作顺序的问题, 一元操作符拥有最高的优先级, 而二元操作符执行优先级如下表所示:

| 优先级 |  操作符  |
| ------------ | ------------ |
|  5  |  `*`、 `/`、 `%`、 `<<`、 `>>`、 `&` 和 `&^`  |
|  4  |  `+`、 `-`、 `\|` 和 `^`  |
|  3  |  `==`、 `!=`、 `<`、 `<=`、 `>` 和 `>=`  |
|  2  |  `&&`  |
|  1  |  `\|\|`  |

优先级数字越大, 表示优先级越高

> 注意: `++` 和 `--` 是语句而不是表达式, 因此他们不存在于任何操作符优先层次内, 例如 `*p++` 等同于 `(*p)++`

## 表达式

表达式是把操作符和函数作用于操作数的计算方法, 在Go中, 表达式是构成具有词法意义的代码的最基本元素, 以下列出表达式的种类:

| 种类 |  用途  |  示例  |
| ------------ | ------------ | ------------ |
|  选择表达式  |  选择一个值中的字段或方法  |  `context.Speaker // context是变量名`  |
|  索引表达式  |  选取数组、切片、字符串或字典值中的某个元素  |  `array1[1] // array表示一个数组且长度必须大于1`  |
|  切片表达式  |  选取数组、数组指针、切片或字符串值中的某个范围的元素  |  `slice1[0:2] // slice表示一个切片值, 其容量必须大于或等于2`  |
|  类型断言  |  判断一个接口值的实际类型是否为某个类型, 或一个非接口值的类型是否实现了某个接口类型  |  `V1.(I1) // V1表示一个接口值, I1表示一个接口类型`  |
|  调用表达式  |  调用一个函数或一个值的方法  |  `V1.M1() // V1表示一个值, M1表示与该值关联的一个方法`  |